"use strict";(self.webpackChunkvoltaris_website=self.webpackChunkvoltaris_website||[]).push([[21],{1297:(e,t,n)=>{n.d(t,{n:()=>s});var r=n(5043),o=n(6509),a=n(7800),i=n(9408);const s=r.forwardRef(((e,t)=>{let{children:n,enabled:s=!0,speed:c=1,rotationIntensity:l=1,floatIntensity:u=1,floatingRange:d=[-.1,.1],...f}=e;const p=r.useRef(null),h=r.useRef(1e4*Math.random());return(0,o.C)((e=>{var t,n;if(!s||0===c)return;const r=h.current+e.clock.getElapsedTime();p.current.rotation.x=Math.cos(r/4*c)/8*l,p.current.rotation.y=Math.sin(r/4*c)/8*l,p.current.rotation.z=Math.sin(r/4*c)/20*l;let o=Math.sin(r/4*c)/10;o=i.MathUtils.mapLinear(o,-.1,.1,null!==(t=null==d?void 0:d[0])&&void 0!==t?t:-.1,null!==(n=null==d?void 0:d[1])&&void 0!==n?n:.1),p.current.position.y=o*u,p.current.updateMatrix()})),r.createElement("group",f,r.createElement("group",{ref:(0,a.A)([p,t]),matrixAutoUpdate:!1},n))}))},2309:(e,t,n)=>{n.d(t,{E:()=>g});var r=n(8168),o=n(5043),a=n(4391),i=n(9408),s=n(6509);const c=new i.Vector3,l=new i.Vector3,u=new i.Vector3;function d(e,t,n){const r=c.setFromMatrixPosition(e.matrixWorld);r.project(t);const o=n.width/2,a=n.height/2;return[r.x*o+o,-r.y*a+a]}const f=e=>Math.abs(e)<1e-10?0:e;function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="matrix3d(";for(let o=0;16!==o;o++)r+=f(t[o]*e.elements[o])+(15!==o?",":")");return n+r}const h=(m=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>p(e,m));var m;const v=(e,t)=>{return p(e,[1/(n=t),1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1],"translate(-50%,-50%)");var n};const g=o.forwardRef(((e,t)=>{let{children:n,eps:p=.001,style:m,className:g,prepend:y,center:b,fullscreen:w,portal:E,distanceFactor:_,sprite:M=!1,transform:x=!1,occlude:P,onOcclude:C,castShadow:S,receiveShadow:k,material:A,geometry:j,zIndexRange:T=[16777271,0],calculatePosition:R=d,as:z="div",wrapperClass:O,pointerEvents:L="auto",...F}=e;const{gl:I,camera:D,scene:H,size:W,raycaster:B,events:$,viewport:V}=(0,s.A)(),[U]=o.useState((()=>document.createElement(z))),q=o.useRef(),N=o.useRef(null),G=o.useRef(0),X=o.useRef([0,0]),Y=o.useRef(null),Z=o.useRef(null),Q=(null==E?void 0:E.current)||$.connected||I.domElement.parentNode,J=o.useRef(null),K=o.useRef(!1),ee=o.useMemo((()=>P&&"blending"!==P||Array.isArray(P)&&P.length&&function(e){return e&&"object"===typeof e&&"current"in e}(P[0])),[P]);o.useLayoutEffect((()=>{const e=I.domElement;P&&"blending"===P?(e.style.zIndex=`${Math.floor(T[0]/2)}`,e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)}),[P]),o.useLayoutEffect((()=>{if(N.current){const e=q.current=a.createRoot(U);if(H.updateMatrixWorld(),x)U.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const e=R(N.current,D,W);U.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${e[0]}px,${e[1]}px,0);transform-origin:0 0;`}return Q&&(y?Q.prepend(U):Q.appendChild(U)),()=>{Q&&Q.removeChild(U),e.unmount()}}}),[Q,x]),o.useLayoutEffect((()=>{O&&(U.className=O)}),[O]);const te=o.useMemo((()=>x?{position:"absolute",top:0,left:0,width:W.width,height:W.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:b?"translate3d(-50%,-50%,0)":"none",...w&&{top:-W.height/2,left:-W.width/2,width:W.width,height:W.height},...m}),[m,b,w,W,x]),ne=o.useMemo((()=>({position:"absolute",pointerEvents:L})),[L]);o.useLayoutEffect((()=>{var e,r;(K.current=!1,x)?null==(e=q.current)||e.render(o.createElement("div",{ref:Y,style:te},o.createElement("div",{ref:Z,style:ne},o.createElement("div",{ref:t,className:g,style:m,children:n})))):null==(r=q.current)||r.render(o.createElement("div",{ref:t,style:te,className:g,children:n}))}));const re=o.useRef(!0);(0,s.C)((e=>{if(N.current){D.updateMatrixWorld(),N.current.updateWorldMatrix(!0,!1);const e=x?X.current:R(N.current,D,W);if(x||Math.abs(G.current-D.zoom)>p||Math.abs(X.current[0]-e[0])>p||Math.abs(X.current[1]-e[1])>p){const t=function(e,t){const n=c.setFromMatrixPosition(e.matrixWorld),r=l.setFromMatrixPosition(t.matrixWorld),o=n.sub(r),a=t.getWorldDirection(u);return o.angleTo(a)>Math.PI/2}(N.current,D);let n=!1;ee&&(Array.isArray(P)?n=P.map((e=>e.current)):"blending"!==P&&(n=[H]));const r=re.current;if(n){const e=function(e,t,n,r){const o=c.setFromMatrixPosition(e.matrixWorld),a=o.clone();a.project(t),n.setFromCamera(a,t);const i=n.intersectObjects(r,!0);if(i.length){const e=i[0].distance;return o.distanceTo(n.ray.origin)<e}return!0}(N.current,D,B,n);re.current=e&&!t}else re.current=!t;r!==re.current&&(C?C(!re.current):U.style.display=re.current?"block":"none");const o=Math.floor(T[0]/2),a=P?ee?[T[0],o]:[o-1,0]:T;if(U.style.zIndex=`${function(e,t,n){if(t instanceof i.PerspectiveCamera||t instanceof i.OrthographicCamera){const r=c.setFromMatrixPosition(e.matrixWorld),o=l.setFromMatrixPosition(t.matrixWorld),a=r.distanceTo(o),i=(n[1]-n[0])/(t.far-t.near),s=n[1]-i*t.far;return Math.round(i*a+s)}}(N.current,D,a)}`,x){const[e,t]=[W.width/2,W.height/2],n=D.projectionMatrix.elements[5]*t,{isOrthographicCamera:r,top:o,left:a,bottom:i,right:s}=D,c=h(D.matrixWorldInverse),l=r?`scale(${n})translate(${f(-(s+a)/2)}px,${f((o+i)/2)}px)`:`translateZ(${n}px)`;let u=N.current.matrixWorld;M&&(u=D.matrixWorldInverse.clone().transpose().copyPosition(u).scale(N.current.scale),u.elements[3]=u.elements[7]=u.elements[11]=0,u.elements[15]=1),U.style.width=W.width+"px",U.style.height=W.height+"px",U.style.perspective=r?"":`${n}px`,Y.current&&Z.current&&(Y.current.style.transform=`${l}${c}translate(${e}px,${t}px)`,Z.current.style.transform=v(u,1/((_||10)/400)))}else{const t=void 0===_?1:function(e,t){if(t instanceof i.OrthographicCamera)return t.zoom;if(t instanceof i.PerspectiveCamera){const n=c.setFromMatrixPosition(e.matrixWorld),r=l.setFromMatrixPosition(t.matrixWorld),o=t.fov*Math.PI/180,a=n.distanceTo(r);return 1/(2*Math.tan(o/2)*a)}return 1}(N.current,D)*_;U.style.transform=`translate3d(${e[0]}px,${e[1]}px,0) scale(${t})`}X.current=e,G.current=D.zoom}}if(!ee&&J.current&&!K.current)if(x){if(Y.current){const e=Y.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){const{isOrthographicCamera:t}=D;if(t||j)F.scale&&(Array.isArray(F.scale)?F.scale instanceof i.Vector3?J.current.scale.copy(F.scale.clone().divideScalar(1)):J.current.scale.set(1/F.scale[0],1/F.scale[1],1/F.scale[2]):J.current.scale.setScalar(1/F.scale));else{const t=(_||10)/400,n=e.clientWidth*t,r=e.clientHeight*t;J.current.scale.set(n,r,1)}K.current=!0}}}else{const t=U.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){const e=1/V.factor,n=t.clientWidth*e,r=t.clientHeight*e;J.current.scale.set(n,r,1),K.current=!0}J.current.lookAt(e.camera.position)}}));const oe=o.useMemo((()=>({vertexShader:x?void 0:'\n          /*\n            This shader is from the THREE\'s SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if "transfrom" \n            is false. \n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n            \n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ',fragmentShader:"\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      "})),[x]);return o.createElement("group",(0,r.A)({},F,{ref:N}),P&&!ee&&o.createElement("mesh",{castShadow:S,receiveShadow:k,ref:J},j||o.createElement("planeGeometry",null),A||o.createElement("shaderMaterial",{side:i.DoubleSide,vertexShader:oe.vertexShader,fragmentShader:oe.fragmentShader})))}))},2891:(e,t,n)=>{n.d(t,{OH:()=>w});var r=n(8168),o=n(5043),a=n(6509),i=n(9408),s=n(7533),c=n(5e3),l=n(2519);const u={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},d="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",f=e=>Array.isArray(e);function p(){let{files:e=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:t="",preset:n,encoding:r,extensions:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;let p,h=null,m=!1;if(n){if(!(n in u))throw new Error("Preset must be one of: "+Object.keys(u).join(", "));e=u[n],t=d}if(m=f(e),p=f(e)?"cube":e.startsWith("data:application/exr")?"exr":e.startsWith("data:application/hdr")?"hdr":null==(s=e.split(".").pop())||null==(s=s.split("?"))||null==(s=s.shift())?void 0:s.toLowerCase(),h=m?i.CubeTextureLoader:"hdr"===p?c.Y:"exr"===p?l.H:null,!h)throw new Error("useEnvironment: Unrecognized file extension: "+e);const v=(0,a.F)(h,m?[e]:e,(e=>{null==e.setPath||e.setPath(t),o&&o(e)})),g=m?v[0]:v;g.mapping=m?i.CubeReflectionMapping:i.EquirectangularReflectionMapping;return"colorSpace"in g?g.colorSpace=(null!==r&&void 0!==r?r:m)?"srgb":"srgb-linear":g.encoding=(null!==r&&void 0!==r?r:m)?3001:3e3,g}const h=e=>{return(t=e).current&&t.current.isScene?e.current:e;var t};function m(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const a=h(t||n),i=a.background,s=a.environment,c=a.backgroundBlurriness||0;return"only"!==e&&(a.environment=r),e&&(a.background=r),e&&void 0!==a.backgroundBlurriness&&(a.backgroundBlurriness=o),()=>{"only"!==e&&(a.environment=s),e&&(a.background=i),e&&void 0!==a.backgroundBlurriness&&(a.backgroundBlurriness=c)}}function v(e){let{scene:t,background:n=!1,blur:r,map:i}=e;const s=(0,a.A)((e=>e.scene));return o.useLayoutEffect((()=>{if(i)return m(n,t,s,i,r)}),[s,t,i,n,r]),null}function g(e){let{background:t=!1,scene:n,blur:r,...i}=e;const s=p(i),c=(0,a.A)((e=>e.scene));return o.useLayoutEffect((()=>m(t,n,c,s,r)),[s,t,n,c,r]),null}function y(e){let{children:t,near:n=1,far:r=1e3,resolution:s=256,frames:c=1,map:l,background:u=!1,blur:d,scene:f,files:p,path:h,preset:y,extensions:b}=e;const w=(0,a.A)((e=>e.gl)),E=(0,a.A)((e=>e.scene)),_=o.useRef(null),[M]=o.useState((()=>new i.Scene)),x=o.useMemo((()=>{const e=new i.WebGLCubeRenderTarget(s);return e.texture.type=i.HalfFloatType,e}),[s]);o.useLayoutEffect((()=>(1===c&&_.current.update(w,M),m(u,f,E,x.texture,d))),[t,M,x.texture,f,E,u,c,w]);let P=1;return(0,a.C)((()=>{(c===1/0||P<c)&&(_.current.update(w,M),P++)})),o.createElement(o.Fragment,null,(0,a.g)(o.createElement(o.Fragment,null,t,o.createElement("cubeCamera",{ref:_,args:[n,r,x]}),p||y?o.createElement(g,{background:!0,files:p,preset:y,path:h,extensions:b}):l?o.createElement(v,{background:!0,map:l,extensions:b}):null),M))}function b(e){var t,n,i,c;const l=p(e),u=e.map||l;o.useMemo((()=>(0,a.e)({GroundProjectedEnvImpl:s.L})),[]);const d=o.useMemo((()=>[u]),[u]),f=null==(t=e.ground)?void 0:t.height,h=null==(n=e.ground)?void 0:n.radius,m=null!==(i=null==(c=e.ground)?void 0:c.scale)&&void 0!==i?i:1e3;return o.createElement(o.Fragment,null,o.createElement(v,(0,r.A)({},e,{map:u})),o.createElement("groundProjectedEnvImpl",{args:d,scale:m,height:f,radius:h}))}function w(e){return e.ground?o.createElement(b,e):e.map?o.createElement(v,e):e.children?o.createElement(y,e):o.createElement(g,e)}},3475:(e,t,n)=>{n.d(t,{u:()=>c});var r=n(8168),o=n(5043),a=n(6509),i=n(7800),s=n(9408);const c=o.forwardRef(((e,t)=>{let{envMap:n,resolution:c=256,frames:l=1/0,makeDefault:u,children:d,...f}=e;const p=(0,a.A)((e=>{let{set:t}=e;return t})),h=(0,a.A)((e=>{let{camera:t}=e;return t})),m=(0,a.A)((e=>{let{size:t}=e;return t})),v=o.useRef(null),g=o.useRef(null),y=function(e,t,n){const r=(0,a.A)((e=>e.size)),i=(0,a.A)((e=>e.viewport)),c="number"===typeof e?e:r.width*i.dpr,l="number"===typeof t?t:r.height*i.dpr,u=("number"===typeof e?n:e)||{},{samples:d=0,depth:f,...p}=u,h=o.useMemo((()=>{const e=new s.WebGLRenderTarget(c,l,{minFilter:s.LinearFilter,magFilter:s.LinearFilter,type:s.HalfFloatType,...p});return f&&(e.depthTexture=new s.DepthTexture(c,l,s.FloatType)),e.samples=d,e}),[]);return o.useLayoutEffect((()=>{h.setSize(c,l),d&&(h.samples=d)}),[d,h,c,l]),o.useEffect((()=>()=>h.dispose()),[]),h}(c);o.useLayoutEffect((()=>{f.manual||(v.current.aspect=m.width/m.height)}),[m,f]),o.useLayoutEffect((()=>{v.current.updateProjectionMatrix()}));let b=0,w=null;const E="function"===typeof d;return(0,a.C)((e=>{E&&(l===1/0||b<l)&&(g.current.visible=!1,e.gl.setRenderTarget(y),w=e.scene.background,n&&(e.scene.background=n),e.gl.render(e.scene,v.current),e.scene.background=w,e.gl.setRenderTarget(null),g.current.visible=!0,b++)})),o.useLayoutEffect((()=>{if(u){const e=h;return p((()=>({camera:v.current}))),()=>p((()=>({camera:e})))}}),[v,u,p]),o.createElement(o.Fragment,null,o.createElement("perspectiveCamera",(0,r.A)({ref:(0,i.A)([v,t])},f),!E&&d),o.createElement("group",{ref:g},E&&d(y.texture)))}))},6509:(e,t,n)=>{n.d(t,{A:()=>ae,B:()=>E,C:()=>ie,E:()=>_,F:()=>le,a:()=>b,b:()=>ge,c:()=>U,d:()=>be,e:()=>f,g:()=>we,i:()=>y,u:()=>w});var r=n(9408),o=n(5043),a=n(7205),i=n(159),s=n(2016),c=n.n(s),l=n(8853),u=n(2906);const d={},f=e=>{Object.assign(d,e)};var p,h;const m=e=>"colorSpace"in e||"outputColorSpace"in e,v=()=>{var e;return null!=(e=d.ColorManagement)?e:null},g=e=>e&&e.isOrthographicCamera,y=e=>e&&e.hasOwnProperty("current"),b="undefined"!==typeof window&&(null!=(p=window.document)&&p.createElement||"ReactNative"===(null==(h=window.navigator)?void 0:h.product))?o.useLayoutEffect:o.useEffect;function w(e){const t=o.useRef(e);return b((()=>{t.current=e}),[e]),t}function E(e){let{set:t}=e;return b((()=>(t(new Promise((()=>null))),()=>t(!1))),[t]),null}class _ extends o.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}_.getDerivedStateFromError=()=>({error:!0});const M="__default",x=new Map,P=e=>e&&!!e.memoized&&!!e.changes;function C(e){var t;const n="undefined"!==typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}const S=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()};function k(e){let t=e.__r3f.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const A={obj:e=>e===Object(e)&&!A.arr(e)&&"function"!==typeof e,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,boo:e=>"boolean"===typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t){let{arrays:n="shallow",objects:r="reference",strict:o=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(typeof e!==typeof t||!!e!==!!t)return!1;if(A.str(e)||A.num(e))return e===t;const a=A.obj(e);if(a&&"reference"===r)return e===t;const i=A.arr(e);if(i&&"reference"===n)return e===t;if((i||a)&&e===t)return!0;let s;for(s in e)if(!(s in t))return!1;if(a&&"shallow"===n&&"shallow"===r){for(s in o?t:e)if(!A.equ(e[s],t[s],{strict:o,objects:"reference"}))return!1}else for(s in o?t:e)if(e[s]!==t[s])return!1;if(A.und(s)){if(i&&0===e.length&&0===t.length)return!0;if(a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function j(e){const t={nodes:{},materials:{}};return e&&e.traverse((e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function T(e,t){return e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},e}function R(e,t){let n=e;if(t.includes("-")){const r=t.split("-"),o=r.pop();return n=r.reduce(((e,t)=>e[t]),e),{target:n,key:o}}return{target:n,key:t}}const z=/-\d+$/;function O(e,t,n){if(A.str(n)){if(z.test(n)){const t=n.replace(z,""),{target:r,key:o}=R(e,t);Array.isArray(r[o])||(r[o]=[])}const{target:r,key:o}=R(e,n);t.__r3f.previousAttach=r[o],r[o]=t}else t.__r3f.previousAttach=n(e,t)}function L(e,t,n){var r,o;if(A.str(n)){const{target:r,key:o}=R(e,n),a=t.__r3f.previousAttach;void 0===a?delete r[o]:r[o]=a}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(o=t.__r3f)||delete o.previousAttach}function F(e,t){let{children:n,key:r,ref:o,...a}=t,{children:i,key:s,ref:c,...l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var d;const f=null!=(d=null==e?void 0:e.__r3f)?d:{},p=Object.entries(a),h=[];if(u){const e=Object.keys(l);for(let t=0;t<e.length;t++)a.hasOwnProperty(e[t])||p.unshift([e[t],M+"remove"])}p.forEach((t=>{let[n,r]=t;var o;if(null!=(o=e.__r3f)&&o.primitive&&"object"===n)return;if(A.equ(r,l[n]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(n))return h.push([n,r,!0,[]]);let i=[];n.includes("-")&&(i=n.split("-")),h.push([n,r,!1,i]);for(const e in a){const t=a[e];e.startsWith(`${n}-`)&&h.push([e,t,!1,e.split("-")])}}));const m={...a};return f.memoizedProps&&f.memoizedProps.args&&(m.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(m.attach=f.memoizedProps.attach),{memoized:m,changes:h}}const I="undefined"!==typeof process&&!1;function D(e,t){var n,o,a;const i=null!=(n=e.__r3f)?n:{},s=i.root,c=null!=(o=null==s||null==s.getState?void 0:s.getState())?o:{},{memoized:l,changes:u}=P(t)?t:F(e,t),d=i.eventCount;e.__r3f&&(e.__r3f.memoizedProps=l);for(let f=0;f<u.length;f++){let[t,n,o,a]=u[f];if(m(e)){const e=3001,r="srgb",o="srgb-linear";"encoding"===t?(t="colorSpace",n=n===e?r:o):"outputEncoding"===t&&(t="outputColorSpace",n=n===e?r:o)}let s=e,l=s[t];if(a.length&&(l=a.reduce(((e,t)=>e[t]),e),!l||!l.set)){const[n,...r]=a.reverse();s=r.reverse().reduce(((e,t)=>e[t]),e),t=n}if(n===M+"remove")if(s.constructor){let e=x.get(s.constructor);e||(e=new s.constructor,x.set(s.constructor,e)),n=e[t]}else n=0;if(o)n?i.handlers[t]=n:delete i.handlers[t],i.eventCount=Object.keys(i.handlers).length;else if(l&&l.set&&(l.copy||l instanceof r.Layers)){if(Array.isArray(n))l.fromArray?l.fromArray(n):l.set(...n);else if(l.copy&&n&&n.constructor&&(I?l.constructor.name===n.constructor.name:l.constructor===n.constructor))l.copy(n);else if(void 0!==n){const e=l instanceof r.Color;!e&&l.setScalar?l.setScalar(n):l instanceof r.Layers&&n instanceof r.Layers?l.mask=n.mask:l.set(n),v()||c.linear||!e||l.convertSRGBToLinear()}}else if(s[t]=n,s[t]instanceof r.Texture&&s[t].format===r.RGBAFormat&&s[t].type===r.UnsignedByteType){const e=s[t];m(e)&&m(c.gl)?e.colorSpace=c.gl.outputColorSpace:e.encoding=c.gl.outputEncoding}H(e)}if(i.parent&&e.raycast&&d!==i.eventCount){const t=k(e).getState().internal,n=t.interaction.indexOf(e);n>-1&&t.interaction.splice(n,1),i.eventCount&&t.interaction.push(e)}return!(1===u.length&&"onUpdate"===u[0][0])&&u.length&&null!=(a=e.__r3f)&&a.parent&&W(e),e}function H(e){var t,n;const r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function W(e){null==e.onUpdate||e.onUpdate(e)}function B(e,t){e.manual||(g(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function $(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function V(e,t,n,r){const o=n.get(t);o&&(n.delete(t),0===n.size&&(e.delete(r),o.target.releasePointerCapture(r)))}function U(e){function t(e){return e.filter((e=>["Move","Over","Enter","Out","Leave"].some((t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find((t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId))){const r=e.eventObject.__r3f,o=null==r?void 0:r.handlers;if(n.hovered.delete($(e)),null!=r&&r.eventCount){const n={...e,intersections:t};null==o.onPointerOut||o.onPointerOut(n),null==o.onPointerLeave||o.onPointerLeave(n)}}}function o(e,t){for(let n=0;n<t.length;n++){const r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(a){switch(a){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame((()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}))}}return function(i){const{onPointerMissed:s,internal:c}=e.getState();c.lastEvent.current=i;const l="onPointerMove"===a,u="onClick"===a||"onContextMenu"===a||"onDoubleClick"===a,d=function(t,n){const r=e.getState(),o=new Set,a=[],i=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<i.length;e++){const t=S(i[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let s=i.flatMap((function(e){const n=S(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r})).sort(((e,t)=>{const n=S(e.object),r=S(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance})).filter((e=>{const t=$(e);return!o.has(t)&&(o.add(t),!0)}));r.events.filter&&(s=r.events.filter(s,r));for(const e of s){let t=e.object;for(;t;){var c;null!=(c=t.__r3f)&&c.eventCount&&a.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())o.has($(e.intersection))||a.push(e.intersection);return a}(i,l?t:void 0),f=u?function(t){const{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],o=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+o*o))}(i):0;"onPointerDown"===a&&(c.initialClick=[i.offsetX,i.offsetY],c.initialHits=d.map((e=>e.eventObject))),u&&!d.length&&f<=2&&(o(i,c.interaction),s&&s(i)),l&&n(d),function(t,o,a,i){const s=e.getState();if(t.length){const e={stopped:!1};for(const c of t){const l=S(c.object)||s,{raycaster:u,pointer:d,camera:f,internal:p}=l,h=new r.Vector3(d.x,d.y,0).unproject(f),m=e=>{var t,n;return null!=(t=null==(n=p.capturedMap.get(e))?void 0:n.has(c.eventObject))&&t},v=e=>{const t={intersection:c,target:o.target};p.capturedMap.has(e)?p.capturedMap.get(e).set(c.eventObject,t):p.capturedMap.set(e,new Map([[c.eventObject,t]])),o.target.setPointerCapture(e)},g=e=>{const t=p.capturedMap.get(e);t&&V(p.capturedMap,c.eventObject,t,e)};let y={};for(let e in o){let t=o[e];"function"!==typeof t&&(y[e]=t)}let b={...c,...y,pointer:d,intersections:t,stopped:e.stopped,delta:a,unprojectedPoint:h,ray:u.ray,camera:f,stopPropagation(){const r="pointerId"in o&&p.capturedMap.get(o.pointerId);(!r||r.has(c.eventObject))&&(b.stopped=e.stopped=!0,p.hovered.size&&Array.from(p.hovered.values()).find((e=>e.eventObject===c.eventObject)))&&n([...t.slice(0,t.indexOf(c)),c])},target:{hasPointerCapture:m,setPointerCapture:v,releasePointerCapture:g},currentTarget:{hasPointerCapture:m,setPointerCapture:v,releasePointerCapture:g},nativeEvent:o};if(i(b),!0===e.stopped)break}}}(d,i,f,(function(e){const t=e.eventObject,n=t.__r3f,r=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(r.onPointerOver||r.onPointerEnter||r.onPointerOut||r.onPointerLeave){const t=$(e),n=c.hovered.get(t);n?n.stopped&&e.stopPropagation():(c.hovered.set(t,e),null==r.onPointerOver||r.onPointerOver(e),null==r.onPointerEnter||r.onPointerEnter(e))}null==r.onPointerMove||r.onPointerMove(e)}else{const n=r[a];n?u&&!c.initialHits.includes(t)||(o(i,c.interaction.filter((e=>!c.initialHits.includes(e)))),n(e)):u&&c.initialHits.includes(t)&&o(i,c.interaction.filter((e=>!c.initialHits.includes(e))))}}))}}}}const q=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],N=e=>!(null==e||!e.render),G=o.createContext(null),X=(e,t)=>{const n=(0,i.A)(((n,a)=>{const i=new r.Vector3,s=new r.Vector3,c=new r.Vector3;function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a().size;const{width:o,height:l,top:u,left:d}=n,f=o/l;t instanceof r.Vector3?c.copy(t):c.set(...t);const p=e.getWorldPosition(i).distanceTo(c);if(g(e))return{width:o/e.zoom,height:l/e.zoom,top:u,left:d,factor:1,distance:p,aspect:f};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*p,r=n*(o/l);return{width:r,height:n,top:u,left:d,factor:o/r,distance:p,aspect:f}}}let u;const d=e=>n((t=>({performance:{...t.performance,current:e}}))),f=new r.Vector2,p={set:n,get:a,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(a(),t)},advance:(e,n)=>t(e,n,a()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new r.Clock,pointer:f,mouse:f,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=a();u&&clearTimeout(u),e.performance.current!==e.performance.min&&d(e.performance.min),u=setTimeout((()=>d(a().performance.max)),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:e=>n((t=>({...t,events:{...t.events,...e}}))),setSize:(e,t,r,o,i)=>{const c=a().camera,u={width:e,height:t,top:o||0,left:i||0,updateStyle:r};n((e=>({size:u,viewport:{...e.viewport,...l(c,s,u)}})))},setDpr:e=>n((t=>{const n=C(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}})),setFrameloop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always";const t=a().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((()=>({frameloop:e})))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:o.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{const r=a().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort(((e,t)=>e.priority-t.priority)),()=>{const n=a().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter((t=>t.ref!==e)))}}}};return p})),a=n.getState();let s=a.size,c=a.viewport.dpr,l=a.camera;return n.subscribe((()=>{const{camera:e,size:t,viewport:r,gl:o,set:a}=n.getState();if(t.width!==s.width||t.height!==s.height||r.dpr!==c){var i;s=t,c=r.dpr,B(e,t),o.setPixelRatio(r.dpr);const n=null!=(i=t.updateStyle)?i:"undefined"!==typeof HTMLCanvasElement&&o.domElement instanceof HTMLCanvasElement;o.setSize(t.width,t.height,n)}e!==l&&(l=e,a((t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}}))))})),n.subscribe((t=>e(t))),n};let Y,Z=new Set,Q=new Set,J=new Set;function K(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function ee(e,t){switch(e){case"before":return K(Z,t);case"after":return K(Q,t);case"tail":return K(J,t)}}let te,ne;function re(e,t,n){let r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),te=t.internal.subscribers,Y=0;Y<te.length;Y++)ne=te[Y],ne.ref.current(ne.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function oe(){const e=o.useContext(G);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}function ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e,t=arguments.length>1?arguments[1]:void 0;return oe()(e,t)}function ie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=oe(),r=n.getState().internal.subscribe,o=w(e);return b((()=>r(o,t,n)),[t,r,n]),null}const se=new WeakMap;function ce(e,t){return function(n){let r=se.get(n);r||(r=new n,se.set(n,r)),e&&e(r);for(var o=arguments.length,a=new Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];return Promise.all(a.map((e=>new Promise(((n,o)=>r.load(e,(e=>{e.scene&&Object.assign(e,j(e.scene)),n(e)}),t,(t=>o(new Error(`Could not load ${e}: ${null==t?void 0:t.message}`))))))))).finally((()=>null==r.dispose?void 0:r.dispose()))}}function le(e,t,n,r){const o=Array.isArray(t)?t:[t],a=(0,u.DY)(ce(n,r),[e,...o],{equal:A.equ});return Array.isArray(t)?a:a[0]}le.preload=function(e,t,n){const r=Array.isArray(t)?t:[t];return(0,u.uv)(ce(n),[e,...r])},le.clear=function(e,t){const n=Array.isArray(t)?t:[t];return(0,u.IU)([e,...n])};const ue=new Map,{invalidate:de,advance:fe}=function(e){let t,n,r,o=!1;function a(i){n=requestAnimationFrame(a),o=!0,t=0,ee("before",i);for(const n of e.values()){var s;r=n.store.getState(),!r.internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(s=r.gl.xr)&&s.isPresenting||(t+=re(i,r))}if(ee("after",i),0===t)return ee("tail",i),o=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;var i;if(!n)return e.forEach((e=>t(e.store.getState())),r);null!=(i=n.gl.xr)&&i.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+r),o||(o=!0,requestAnimationFrame(a)))},advance:function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(n&&ee("before",t),r)re(t,r,o);else for(const a of e.values())re(t,a.store.getState());n&&ee("after",t)}}}(ue),{reconciler:pe,applyProps:he}=function(e,t){function n(e,t,n){let o,{args:a=[],attach:i,...s}=t,c=`${e[0].toUpperCase()}${e.slice(1)}`;if("primitive"===e){if(void 0===s.object)throw new Error("R3F: Primitives without 'object' are invalid!");o=T(s.object,{type:e,root:n,attach:i,primitive:!0})}else{const t=d[c];if(!t)throw new Error(`R3F: ${c} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(a))throw new Error("R3F: The args prop must be an array!");o=T(new t(...a),{type:e,root:n,attach:i,memoizedProps:{args:a}})}return void 0===o.__r3f.attach&&(o instanceof r.BufferGeometry?o.__r3f.attach="geometry":o instanceof r.Material&&(o.__r3f.attach="material")),"inject"!==c&&D(o,s),o}function o(e,t){let n=!1;var r,o;t&&(null!=(r=t.__r3f)&&r.attach?O(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(o=e.__r3f)||o.objects.push(t),t.__r3f||T(t,{}),t.__r3f.parent=e,W(t),H(t))}function i(e,t,n){let r=!1;if(t){var o,a;if(null!=(o=t.__r3f)&&o.attach)O(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});const o=e.children.filter((e=>e!==t)),a=o.indexOf(n);e.children=[...o.slice(0,a),t,...o.slice(a)],r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||T(t,{}),t.__r3f.parent=e,W(t),H(t)}}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&[...e].forEach((e=>u(t,e,n)))}function u(e,t,n){if(t){var r,o,a;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((e=>e!==t))),null!=(o=t.__r3f)&&o.attach)L(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var i;e.remove(t),null!=(i=t.__r3f)&&i.root&&function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter((e=>e!==t)),n.initialHits=n.initialHits.filter((e=>e!==t)),n.hovered.forEach(((e,r)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(r)})),n.capturedMap.forEach(((e,r)=>{V(n.capturedMap,t,e,r)}))}(k(t),t)}const u=null==(a=t.__r3f)?void 0:a.primitive,d=!u&&(void 0===n?null!==t.dispose:n);var c;if(!u)s(null==(c=t.__r3f)?void 0:c.objects,t,d),s(t.children,t,d);if(delete t.__r3f,d&&t.dispose&&"Scene"!==t.type){const e=()=>{try{t.dispose()}catch(e){}};"undefined"===typeof IS_REACT_ACT_ENVIRONMENT?(0,l.unstable_scheduleCallback)(l.unstable_IdlePriority,e):e()}H(e)}}const f=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:c()({createInstance:n,removeChild:u,appendChild:o,appendInitialChild:o,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;const n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,o(n,t))},removeChildFromContainer:(e,t)=>{t&&u(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;const r=e.getState().scene;r.__r3f&&i(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;const n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate(e,t,n,r){var o;if((null!=(o=null==e?void 0:e.__r3f)?o:{}).primitive&&r.object&&r.object!==e)return[!0];{const{args:t=[],children:o,...a}=r,{args:i=[],children:s,...c}=n;if(!Array.isArray(t))throw new Error("R3F: the args prop must be an array!");if(t.some(((e,t)=>e!==i[t])))return[!0];const l=F(e,a,c,!0);return l.changes.length?[!1,l]:null}},commitUpdate(e,t,r,a,i,s){let[c,l]=t;c?function(e,t,r,a){var i;const s=null==(i=e.__r3f)?void 0:i.parent;if(!s)return;const c=n(t,r,e.__r3f.root);if(e.children){for(const t of e.children)t.__r3f&&o(c,t);e.children=e.children.filter((e=>!e.__r3f))}e.__r3f.objects.forEach((e=>o(c,e))),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||u(s,e),c.parent&&(c.__r3f.autoRemovedBeforeAppend=!0),o(s,c),c.raycast&&c.__r3f.eventCount&&k(c).getState().internal.interaction.push(c);[a,a.alternate].forEach((e=>{null!==e&&(e.stateNode=c,e.ref&&("function"===typeof e.ref?e.ref(c):e.ref.current=c))}))}(e,r,i,s):D(e,l)},commitMount(e,t,n,r){var o;const a=null!=(o=e.__r3f)?o:{};e.raycast&&a.handlers&&a.eventCount&&k(e).getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>T(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;const{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&L(r,e,n),e.isObject3D&&(e.visible=!1),H(e)},unhideInstance(e,t){var n;const{attach:r,parent:o}=null!=(n=e.__r3f)?n:{};r&&o&&O(o,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),H(e)},createTextInstance:f,hideTextInstance:f,unhideTextInstance:f,getCurrentEventPriority:()=>t?t():a.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!==typeof performance&&A.fun(performance.now)?performance.now:A.fun(Date.now)?Date.now:()=>0,scheduleTimeout:A.fun(setTimeout)?setTimeout:void 0,cancelTimeout:A.fun(clearTimeout)?clearTimeout:void 0}),applyProps:D}}(0,(function(){var e;const t="undefined"!==typeof self&&self||"undefined"!==typeof window&&window;if(!t)return a.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return a.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return a.ContinuousEventPriority;default:return a.DefaultEventPriority}})),me={objects:"shallow",strict:!1},ve=(e,t)=>{const n="function"===typeof e?e(t):e;return N(n)?n:new r.WebGLRenderer({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function ge(e){const t=ue.get(e),n=null==t?void 0:t.fiber,i=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const s="function"===typeof reportError?reportError:console.error,c=i||X(de,fe),l=n||pe.createContainer(c,a.ConcurrentRoot,null,!1,null,"",s,null);let u;t||ue.set(e,{fiber:l,store:c});let d,f=!1;return{configure(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{gl:n,size:o,scene:a,events:i,onCreated:s,shadows:l=!1,linear:p=!1,flat:h=!1,legacy:m=!1,orthographic:g=!1,frameloop:y="always",dpr:b=[1,2],performance:w,raycaster:E,camera:_,onPointerMissed:M}=t,x=c.getState(),P=x.gl;x.gl||x.set({gl:P=ve(n,e)});let S=x.raycaster;S||x.set({raycaster:S=new r.Raycaster});const{params:k,...j}=E||{};if(A.equ(j,S,me)||he(S,{...j}),A.equ(k,S.params,me)||he(S,{params:{...S.params,...k}}),!x.camera||x.camera===d&&!A.equ(d,_,me)){d=_;const e=_ instanceof r.Camera,t=e?_:g?new r.OrthographicCamera(0,0,0,0,.1,1e3):new r.PerspectiveCamera(75,0,.1,1e3);e||(t.position.z=5,_&&he(t,_),x.camera||null!=_&&_.rotation||t.lookAt(0,0,0)),x.set({camera:t}),S.camera=t}if(!x.scene){let e;a instanceof r.Scene?e=a:(e=new r.Scene,a&&he(e,a)),x.set({scene:T(e)})}if(!x.xr){var R;const e=(e,t)=>{const n=c.getState();"never"!==n.frameloop&&fe(e,!0,n,t)},t=()=>{const t=c.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||de(t)},n={connect(){const e=c.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=c.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"===typeof(null==(R=P.xr)?void 0:R.addEventListener)&&n.connect(),x.set({xr:n})}if(P.shadowMap){const e=P.shadowMap.enabled,t=P.shadowMap.type;if(P.shadowMap.enabled=!!l,A.boo(l))P.shadowMap.type=r.PCFSoftShadowMap;else if(A.str(l)){var z;const e={basic:r.BasicShadowMap,percentage:r.PCFShadowMap,soft:r.PCFSoftShadowMap,variance:r.VSMShadowMap};P.shadowMap.type=null!=(z=e[l])?z:r.PCFSoftShadowMap}else A.obj(l)&&Object.assign(P.shadowMap,l);e===P.shadowMap.enabled&&t===P.shadowMap.type||(P.shadowMap.needsUpdate=!0)}const O=v();O&&("enabled"in O?O.enabled=!m:"legacyMode"in O&&(O.legacyMode=m));he(P,{outputEncoding:p?3e3:3001,toneMapping:h?r.NoToneMapping:r.ACESFilmicToneMapping}),x.legacy!==m&&x.set((()=>({legacy:m}))),x.linear!==p&&x.set((()=>({linear:p}))),x.flat!==h&&x.set((()=>({flat:h}))),!n||A.fun(n)||N(n)||A.equ(n,P,me)||he(P,n),i&&!x.events.handlers&&x.set({events:i(c)});const L=function(e,t){const n="undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){const{width:e,height:r,top:o,left:a,updateStyle:i=n}=t;return{width:e,height:r,top:o,left:a,updateStyle:i}}if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:r,top:o,left:a}=e.parentElement.getBoundingClientRect();return{width:t,height:r,top:o,left:a,updateStyle:n}}return"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:n}:{width:0,height:0,top:0,left:0}}(e,o);return A.equ(L,x.size,me)||x.setSize(L.width,L.height,L.updateStyle,L.top,L.left),b&&x.viewport.dpr!==C(b)&&x.setDpr(b),x.frameloop!==y&&x.setFrameloop(y),x.onPointerMissed||x.set({onPointerMissed:M}),w&&!A.equ(w,x.performance,me)&&x.set((e=>({performance:{...e.performance,...w}}))),u=s,f=!0,this},render(t){return f||this.configure(),pe.updateContainer(o.createElement(ye,{store:c,children:t,onCreated:u,rootElement:e}),l,null,(()=>{})),c},unmount(){be(e)}}}function ye(e){let{store:t,children:n,onCreated:r,rootElement:a}=e;return b((()=>{const e=t.getState();e.set((e=>({internal:{...e.internal,active:!0}}))),r&&r(e),t.getState().events.connected||null==e.events.connect||e.events.connect(a)}),[]),o.createElement(G.Provider,{value:t},n)}function be(e,t){const n=ue.get(e),r=null==n?void 0:n.fiber;if(r){const o=null==n?void 0:n.store.getState();o&&(o.internal.active=!1),pe.updateContainer(null,r,null,(()=>{o&&setTimeout((()=>{try{var n,r,a,i;null==o.events.disconnect||o.events.disconnect(),null==(n=o.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=o.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(i=o.gl)&&i.xr&&o.xr.disconnect(),function(e){e.dispose&&"Scene"!==e.type&&e.dispose();for(const t in e)null==t.dispose||t.dispose(),delete e[t]}(o),ue.delete(e),t&&t(e)}catch(s){}}),500)}))}}function we(e,t,n){return o.createElement(Ee,{key:t.uuid,children:e,container:t,state:n})}function Ee(e){let{state:t={},children:n,container:a}=e;const{events:s,size:c,...l}=t,u=oe(),[d]=o.useState((()=>new r.Raycaster)),[f]=o.useState((()=>new r.Vector2)),p=o.useCallback(((e,t)=>{const n={...e};let o;if(Object.keys(e).forEach((r=>{(q.includes(r)||e[r]!==t[r]&&t[r])&&delete n[r]})),t&&c){const n=t.camera;o=e.viewport.getCurrentViewport(n,new r.Vector3,c),n!==e.camera&&B(n,c)}return{...n,scene:a,raycaster:d,pointer:f,mouse:f,previousRoot:u,events:{...e.events,...null==t?void 0:t.events,...s},size:{...e.size,...c},viewport:{...e.viewport,...o},...l}}),[t]),[h]=o.useState((()=>{const e=u.getState(),t=(0,i.A)(((t,n)=>({...e,scene:a,raycaster:d,pointer:f,mouse:f,previousRoot:u,events:{...e.events,...s},size:{...e.size,...c},...l,set:t,get:n,setEvents:e=>t((t=>({...t,events:{...t.events,...e}})))})));return t}));return o.useEffect((()=>{const e=u.subscribe((e=>h.setState((t=>p(e,t)))));return()=>{e(),h.destroy()}}),[]),o.useEffect((()=>{h.setState((e=>p(u.getState(),e)))}),[p]),o.createElement(o.Fragment,null,pe.createPortal(o.createElement(G.Provider,{value:h},n),h,null))}pe.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:o.version});o.unstable_act},7146:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(8168),o=n(6509),a=n(5043),i=n(9408),s=n(146),c=n(7674);const l=e=>e.isMesh;const u=a.forwardRef(((e,t)=>{let{enabled:n=!0,firstHitOnly:u=!1,children:d,strategy:f=s.Xe,verbose:p=!1,setBoundingBox:h=!0,maxDepth:m=40,maxLeafTris:v=10,indirect:g=!1,...y}=e;const b=a.useRef(null),w=(0,o.A)((e=>e.raycaster));return a.useImperativeHandle(t,(()=>b.current),[]),a.useEffect((()=>{if(n){const e={strategy:f,verbose:p,setBoundingBox:h,maxDepth:m,maxLeafTris:v,indirect:g},t=b.current;return w.firstHitOnly=u,t.traverse((t=>{l(t)&&!t.geometry.boundsTree&&t.raycast===i.Mesh.prototype.raycast&&(t.raycast=c.zQ,t.geometry.computeBoundsTree=c.LO,t.geometry.disposeBoundsTree=c.je,t.geometry.computeBoundsTree(e))})),()=>{delete w.firstHitOnly,t.traverse((e=>{l(e)&&e.geometry.boundsTree&&(e.geometry.disposeBoundsTree(),e.raycast=i.Mesh.prototype.raycast)}))}}}),[]),a.createElement("group",(0,r.A)({ref:b},y),d)}))},7306:(e,t,n)=>{n.d(t,{M:()=>i});var r=n(9408),o=n(5043),a=n(6509);function i(e){let{all:t,scene:n,camera:i}=e;const s=(0,a.A)((e=>{let{gl:t}=e;return t})),c=(0,a.A)((e=>{let{camera:t}=e;return t})),l=(0,a.A)((e=>{let{scene:t}=e;return t}));return o.useLayoutEffect((()=>{const e=[];t&&(n||l).traverse((t=>{!1===t.visible&&(e.push(t),t.visible=!0)})),s.compile(n||l,i||c);const o=new r.WebGLCubeRenderTarget(128);new r.CubeCamera(.01,1e5,o).update(s,n||l),o.dispose(),e.forEach((e=>e.visible=!1))}),[]),null}},8161:(e,t,n)=>{n.d(t,{N:()=>s});var r=n(8168),o=n(6509),a=n(5043),i=n(7140);const s=a.forwardRef(((e,t)=>{let{makeDefault:n,camera:s,regress:c,domElement:l,enableDamping:u=!0,keyEvents:d=!1,onChange:f,onStart:p,onEnd:h,...m}=e;const v=(0,o.A)((e=>e.invalidate)),g=(0,o.A)((e=>e.camera)),y=(0,o.A)((e=>e.gl)),b=(0,o.A)((e=>e.events)),w=(0,o.A)((e=>e.setEvents)),E=(0,o.A)((e=>e.set)),_=(0,o.A)((e=>e.get)),M=(0,o.A)((e=>e.performance)),x=s||g,P=l||b.connected||y.domElement,C=a.useMemo((()=>new i.N(x)),[x]);return(0,o.C)((()=>{C.enabled&&C.update()}),-1),a.useEffect((()=>(d&&C.connect(!0===d?P:d),C.connect(P),()=>{C.dispose()})),[d,P,c,C,v]),a.useEffect((()=>{const e=e=>{v(),c&&M.regress(),f&&f(e)},t=e=>{p&&p(e)},n=e=>{h&&h(e)};return C.addEventListener("change",e),C.addEventListener("start",t),C.addEventListener("end",n),()=>{C.removeEventListener("start",t),C.removeEventListener("end",n),C.removeEventListener("change",e)}}),[f,p,h,C,v,w]),a.useEffect((()=>{if(n){const e=_().controls;return E({controls:C}),()=>E({controls:e})}}),[n,C]),a.createElement("primitive",(0,r.A)({ref:t,object:C,enableDamping:u},m))}))},8669:(e,t,n)=>{n.d(t,{X:()=>a});var r=n(5043),o=n(6509);function a(){const e=(0,o.A)((e=>e.gl));return(0,r.useEffect)((()=>(e.shadowMap.autoUpdate=!1,e.shadowMap.needsUpdate=!0,()=>{e.shadowMap.autoUpdate=e.shadowMap.needsUpdate=!0})),[e.shadowMap]),null}},9904:(e,t,n)=>{n.d(t,{Hl:()=>f});var r=n(6509),o=n(8168),a=n(5043),i=n(9408),s=n(9124),c=n(689);n(7205),n(2016),n(8853);const l={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function u(e){const{handlePointer:t}=(0,r.c)(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(l).reduce(((e,n)=>({...e,[n]:t(n)})),{}),update:()=>{var t;const{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;const{set:r,events:o}=e.getState();null==o.disconnect||o.disconnect(),r((e=>({events:{...e.events,connected:t}}))),Object.entries(null!=(n=o.handlers)?n:[]).forEach((e=>{let[n,r]=e;const[o,a]=l[n];t.addEventListener(o,r,{passive:a})}))},disconnect:()=>{const{set:t,events:n}=e.getState();var r;n.connected&&(Object.entries(null!=(r=n.handlers)?r:[]).forEach((e=>{let[t,r]=e;if(n&&n.connected instanceof HTMLElement){const[e]=l[t];n.connected.removeEventListener(e,r)}})),t((e=>({events:{...e.events,connected:void 0}}))))}}}const d=a.forwardRef((function(e,t){let{children:n,fallback:l,resize:d,style:f,gl:p,events:h=u,eventSource:m,eventPrefix:v,shadows:g,linear:y,flat:b,legacy:w,orthographic:E,frameloop:_,dpr:M,performance:x,raycaster:P,camera:C,scene:S,onPointerMissed:k,onCreated:A,...j}=e;a.useMemo((()=>(0,r.e)(i)),[]);const T=(0,c.y3)(),[R,z]=(0,s.A)({scroll:!0,debounce:{scroll:50,resize:0},...d}),O=a.useRef(null),L=a.useRef(null);a.useImperativeHandle(t,(()=>O.current));const F=(0,r.u)(k),[I,D]=a.useState(!1),[H,W]=a.useState(!1);if(I)throw I;if(H)throw H;const B=a.useRef(null);(0,r.a)((()=>{const e=O.current;z.width>0&&z.height>0&&e&&(B.current||(B.current=(0,r.b)(e)),B.current.configure({gl:p,events:h,shadows:g,linear:y,flat:b,legacy:w,orthographic:E,frameloop:_,dpr:M,performance:x,raycaster:P,camera:C,scene:S,size:z,onPointerMissed:function(){return null==F.current?void 0:F.current(...arguments)},onCreated:e=>{null==e.events.connect||e.events.connect(m?(0,r.i)(m)?m.current:m:L.current),v&&e.setEvents({compute:(e,t)=>{const n=e[v+"X"],r=e[v+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==A||A(e)}}),B.current.render(a.createElement(T,null,a.createElement(r.E,{set:W},a.createElement(a.Suspense,{fallback:a.createElement(r.B,{set:D})},n)))))})),a.useEffect((()=>{const e=O.current;if(e)return()=>(0,r.d)(e)}),[]);const $=m?"none":"auto";return a.createElement("div",(0,o.A)({ref:L,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:$,...f}},j),a.createElement("div",{ref:R,style:{width:"100%",height:"100%"}},a.createElement("canvas",{ref:O,style:{display:"block"}},l)))})),f=a.forwardRef((function(e,t){return a.createElement(c.Af,null,a.createElement(d,(0,o.A)({},e,{ref:t})))}))}}]);
//# sourceMappingURL=vendor.threejs.51475a68.cbbf264e.js.map